import{s as G,r as i,c as I,b as f,e as v,g as s,i as D,v as b,x as M,D as F,n as d,l as V,p as g,t as N,F as H,j as L,d as O,h as W}from"./5SDzX3dT.js";import{u as Y}from"./C--9Im41.js";import{s as Z}from"./x_rD_Ya3.js";const J={class:"email"},K={class:"emailInput"},Q={class:"password"},X={class:"passwordInput"},ee=["type"],se={class:"passwordConfirmInput"},le=["type"],te={class:"tips"},ae={class:"length-tip"},ie={class:"letter-tip"},oe={class:"digit-tip"},ne={class:"match-tip"},re=["disabled"],ue={key:0,class:"verify"},ce={class:"code"},de=["onUpdate:modelValue","onInput"],ve={key:1,type:"submit",class:"changePassword_button"},pe={__name:"PagesMemberChangePasswordForm",setup(U){const{isRequired:y,isValidPassword:_,isPasswordMatch:S,isFullCode:B,showErrors:A,showSuccess:E}=Y(),P=i("test@mail.com"),t=i(""),o=i(""),p=i(!1),m=i(!1),n=i(["","","",""]),u=i(!1),c=i(0);let C=null;const w=i(!1),T=()=>{p.value=!p.value},R=()=>{m.value=!m.value},x=I(()=>({length:t.value.length>=6&&t.value.length<=12,letter:/[A-Za-z]/.test(t.value),digit:/\d/.test(t.value)})),h=I(()=>o.value?t.value===o.value:null),$=I(()=>h.value===!0?"Passwords match":h.value===!1?"Passwords do not match":"Please confirm your password"),q=()=>{if(u.value)return;const l=[];y(t.value)||l.push("Please enter your new password."),y(o.value)||l.push("Please confirm your new password."),_(t.value)||l.push("Password must be 6–12 characters, including at least 1 letter and 1 number."),S(t.value,o.value)||l.push("Passwords do not match."),A(l)&&(E("Verification code sent",`A verification code has been sent to ${P.value}.`),u.value=!0,c.value=60,w.value=!0,C=Z(()=>{c.value--,c.value<=0&&(clearInterval(C),u.value=!1,c.value=0)},1e3))},z=(l,e)=>{const a=e.target;if(a.value=a.value.replace(/[^0-9]/g,"").slice(0,1),n.value[l]=a.value,a.value&&l<n.value.length-1){const r=a.nextElementSibling;r&&r.focus()}},j=()=>{const l=[];_(t.value)||l.push("Password must be 6–12 characters, including at least 1 letter and 1 number."),S(t.value,o.value)||l.push("Passwords do not match."),B(n.value)||l.push("Please enter the complete 4-digit verification code."),A(l)&&E("Password Changed","Your password has been changed successfully.").then(()=>{clearInterval(C),c.value=0,u.value=!1,w.value=!1,t.value="",o.value="",n.value=["","","",""],p.value=!1,m.value=!1})};return(l,e)=>(v(),f("form",{onSubmit:V(j,["prevent"]),class:"changePassword-form",novalidate:""},[e[12]||(e[12]=s("h2",null,"CHANGE PASSWORD",-1)),s("div",J,[e[4]||(e[4]=s("label",{for:"email"},"Email Address",-1)),s("div",K,[b(s("input",{type:"email",id:"email","onUpdate:modelValue":e[0]||(e[0]=a=>P.value=a),required:"",readonly:""},null,512),[[M,P.value]]),e[3]||(e[3]=s("i",{class:"bi bi-envelope emailIcon"},null,-1))])]),s("div",Q,[e[10]||(e[10]=s("label",{for:"password"},"New Password",-1)),s("div",X,[b(s("input",{type:p.value?"text":"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=a=>t.value=a),placeholder:"Enter new password",title:"6–12 characters with letters and numbers",autocomplete:"new-password"},null,8,ee),[[F,t.value]]),e[5]||(e[5]=s("i",{class:"bi bi-lock-fill passwordIcon"},null,-1)),s("a",{href:"#",onClick:V(T,["prevent"]),class:d(p.value?"bi bi-eye eyeIcon":"bi bi-eye-slash eyeIcon")},null,2)]),s("div",se,[b(s("input",{type:m.value?"text":"password",id:"confirmPassword","onUpdate:modelValue":e[2]||(e[2]=a=>o.value=a),placeholder:"Confirm new password",title:"6–12 characters with letters and numbers",autocomplete:"new-password"},null,8,le),[[F,o.value]]),e[6]||(e[6]=s("i",{class:"bi bi-lock-fill passwordIcon"},null,-1)),s("a",{href:"#",onClick:V(R,["prevent"]),class:d(m.value?"bi bi-eye eyeIcon":"bi bi-eye-slash eyeIcon")},null,2)]),s("ul",te,[s("li",ae,[s("i",{class:d(x.value.length?"bi bi-check-circle-fill check-circle green":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),e[7]||(e[7]=g(" Password length must be 6–12 characters ",-1))]),s("li",ie,[s("i",{class:d(x.value.letter?"bi bi-check-circle-fill check-circle green":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),e[8]||(e[8]=g(" At least 1 letter ",-1))]),s("li",oe,[s("i",{class:d(x.value.digit?"bi bi-check-circle-fill check-circle green":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),e[9]||(e[9]=g(" At least 1 digit ",-1))]),s("li",ne,[s("i",{class:d(h.value===!0?"bi bi-check-circle-fill check-circle green":h.value===!1?"bi bi-x-circle-fill x-circle":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),g(" "+N($.value),1)])])]),s("button",{type:"button",class:"sentVerify_button",disabled:u.value,onClick:q},N(u.value?`Resend in ${c.value}s`:"Send Verification Code"),9,re),w.value?(v(),f("div",ue,[e[11]||(e[11]=s("label",null,"Enter 4-digit verification code",-1)),s("div",ce,[(v(!0),f(H,null,L(n.value,(a,r)=>b((v(),f("input",{key:r,type:"text",maxlength:"1",class:"codeInput","onUpdate:modelValue":k=>n.value[r]=k,onInput:k=>z(r,k)},null,40,de)),[[M,n.value[r]]])),128))])])):D("",!0),w.value?(v(),f("button",ve,"Change Password")):D("",!0)],32))}},me=G(pe,[["__scopeId","data-v-7f78d050"]]),be=O({__name:"password",setup(U){return(y,_)=>(v(),W(me))}});export{be as default};
