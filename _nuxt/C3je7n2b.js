import{s as N,N as K,r as a,c as R,O as Q,b as d,e as v,g as e,v as r,i as F,P as V,p as c,x as A,t as D,F as W,j as X,D as M,n as u,l as S,d as Y,u as ee,f as I,H as se,T as le,q as te}from"./5SDzX3dT.js";import{u as ae}from"./C--9Im41.js";import{s as ie}from"./x_rD_Ya3.js";const oe={class:"email"},re={class:"emailInput"},ne=["disabled"],ce={class:"verify"},ue={class:"code"},de=["onUpdate:modelValue","onInput"],ve={class:"password"},pe={class:"passwordInput"},me=["type"],fe={class:"passwordConfirmInput"},be=["type"],we={class:"tips"},he={class:"length-tip"},_e={class:"letter-tip"},ye={class:"digit-tip"},ge={class:"match-tip"},Pe={key:1,type:"submit",class:"retrieve_button"},Ve={__name:"FormsRetrieveForm",setup(U){const{isRequired:b,isValidEmail:T,isValidPassword:B,isPasswordMatch:$,isFullCode:q,showErrors:k,showSuccess:x}=ae(),H=K(),p=a(""),m=a(["","","",""]),t=a(""),n=a(""),o=a(1),f=a(0),w=a(null),h=a(!1),_=a(!1),y=a(!1),z=()=>{_.value=!_.value},j=()=>{y.value=!y.value},L=()=>{const l=[];b(p.value)?T(p.value)||l.push("Invalid email format."):l.push("Please enter your email address."),k(l)&&(x("Verification code sent",`A verification code has been sent to ${p.value}.`),o.value=2,h.value=!0,f.value=60,w.value=ie(()=>{f.value--,f.value<=0&&(clearInterval(w.value),h.value=!1,f.value=0)},1e3))},O=(l,s)=>{const i=s.target.value.replace(/[^0-9]/g,"").slice(0,1);m.value[l]=i,i&&l<3&&document.querySelectorAll(".codeInput")[l+1].focus()},Z=()=>{if(!q(m.value)){k(["Please enter the complete 4-digit verification code."]);return}x("Verified!","Verification successful."),o.value=3},C=R(()=>({length:t.value.length>=6&&t.value.length<=12,letter:/[a-zA-Z]/.test(t.value),digit:/[0-9]/.test(t.value)})),g=R(()=>n.value?t.value===n.value:null),G=R(()=>g.value===!0?"Passwords match":g.value===!1?"Passwords do not match":"Please confirm your password"),J=()=>{const l=[];b(t.value)?B(t.value)||l.push("Password must be 6–12 characters, including at least 1 letter and 1 number."):l.push("Please enter your password."),b(n.value)?$(t.value,n.value)||l.push("Passwords do not match."):l.push("Please confirm your password."),k(l)&&x("Success","Password has been reset successfully.").then(()=>{H.push("/login")})};return Q(()=>{w.value&&clearInterval(w.value)}),(l,s)=>(v(),d("form",{class:"retrieve-form",onSubmit:S(J,["prevent"]),novalidate:""},[s[12]||(s[12]=e("h2",null,"RETRIEVE",-1)),r(e("div",oe,[s[4]||(s[4]=e("label",{for:"email"},[c("Email Address"),e("span",null,"*")],-1)),e("div",re,[r(e("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=i=>p.value=i),placeholder:"Enter your email",required:""},null,512),[[A,p.value]]),s[3]||(s[3]=e("i",{class:"bi bi-envelope emailIcon"},null,-1))])],512),[[V,o.value===1]]),r(e("button",{type:"button",class:"sentVerify_button",onClick:L,disabled:h.value},D(h.value?`Resend in ${f.value}s`:"Send Verification Code"),9,ne),[[V,o.value<=2]]),r(e("div",ce,[s[5]||(s[5]=e("label",null,"Enter 4-digit verification code",-1)),e("div",ue,[(v(!0),d(W,null,X(m.value,(i,P)=>r((v(),d("input",{key:P,type:"text",class:"codeInput",maxlength:"1","onUpdate:modelValue":E=>m.value[P]=E,onInput:E=>O(P,E)},null,40,de)),[[A,m.value[P]]])),128))])],512),[[V,o.value===2]]),o.value===2?(v(),d("button",{key:0,type:"button",class:"verify_button",onClick:Z}," Verification ")):F("",!0),r(e("div",ve,[s[11]||(s[11]=e("label",{for:"password"},[c("New Password"),e("span",null,"*")],-1)),e("div",pe,[r(e("input",{type:_.value?"text":"password",id:"password",class:"setPassword","onUpdate:modelValue":s[1]||(s[1]=i=>t.value=i),placeholder:"Enter new password",title:"6–12 characters with letters and numbers",autocomplete:"new-password"},null,8,me),[[M,t.value]]),s[6]||(s[6]=e("i",{class:"bi bi-lock-fill passwordIcon"},null,-1)),e("a",{href:"#",onClick:S(z,["prevent"]),class:u(_.value?"bi bi-eye eyeIcon":"bi bi-eye-slash eyeIcon")},null,2)]),e("div",fe,[r(e("input",{type:y.value?"text":"password",id:"confirmPassword",class:"confirmPassword","onUpdate:modelValue":s[2]||(s[2]=i=>n.value=i),placeholder:"Confirm new password",title:"6–12 characters with letters and numbers",autocomplete:"new-password"},null,8,be),[[M,n.value]]),s[7]||(s[7]=e("i",{class:"bi bi-lock-fill passwordIcon"},null,-1)),e("a",{href:"#",onClick:S(j,["prevent"]),class:u(y.value?"bi bi-eye eyeIcon":"bi bi-eye-slash eyeIcon")},null,2)]),e("ul",we,[e("li",he,[e("i",{class:u(C.value.length?"bi bi-check-circle-fill check-circle green":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),s[8]||(s[8]=c(" Password length must be 6–12 characters ",-1))]),e("li",_e,[e("i",{class:u(C.value.letter?"bi bi-check-circle-fill check-circle green":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),s[9]||(s[9]=c(" At least 1 letter ",-1))]),e("li",ye,[e("i",{class:u(C.value.digit?"bi bi-check-circle-fill check-circle green":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),s[10]||(s[10]=c(" At least 1 digit ",-1))]),e("li",ge,[e("i",{class:u(g.value===!0?"bi bi-check-circle-fill check-circle green":g.value===!1?"bi bi-x-circle-fill x-circle":"bi bi-exclamation-circle-fill exclamation-circle")},null,2),c(" "+D(G.value),1)])])],512),[[V,o.value===3]]),o.value===3?(v(),d("button",Pe," Reset Password ")):F("",!0)],32))}},Ie=N(Ve,[["__scopeId","data-v-4c01629e"]]),ke={class:"wrap"},xe={class:"retrieve-main"},Ce=Y({__name:"retrieve",setup(U){return ee({title:"RETRIEVE｜Hex Burger House"}),(b,T)=>(v(),d("div",ke,[I(se),e("main",xe,[I(le),I(Ie)]),I(te)]))}}),Te=N(Ce,[["__scopeId","data-v-d9c040d7"]]);export{Te as default};
