import{d as w,u as S,a as $,c as N,r as g,o as X,w as B,b as l,e as r,f as m,g as s,H as R,T as F,h as H,i as I,F as L,j as V,n as q,k as M,t as _,l as v,m as A,p as E,q as Q,_ as U,s as Y}from"./5SDzX3dT.js";import{u as j}from"./rTmV1dog.js";const x={class:"wrap"},z={class:"cart-main"},D={class:"cart"},O={key:0,class:"item-container"},P=["onTouchstart","onTouchend"],G={class:"window"},J=["src","alt"],K={class:"info"},W={class:"name"},Z={class:"price"},ss={class:"amount"},ts=["onClick"],es={class:"number"},as=["onClick"],os={class:"sum"},cs=["onClick"],ns={key:1,class:"cart_is_empty"},rs=w({__name:"cart",setup(ls){S({title:"CARTï½œHex Burger House"});const T=$().app.baseURL||"/",u=j(),c=N(()=>u.cart),i=g([]),d=g([]),h=()=>{i.value=c.value.map(()=>!1),d.value=c.value.map(()=>0)},f=(t,e)=>{u.changeQuantity(t,e),h()},k=t=>{u.removeItem(t),h()},C=(t,e)=>{t.changedTouches&&t.changedTouches[0]&&(d.value[e]=t.changedTouches[0].clientX)},y=(t,e)=>{if(t.changedTouches&&t.changedTouches[0]){const p=t.changedTouches[0].clientX,a=d.value[e]??0,o=p-a;o<-50?i.value=c.value.map((n,b)=>b===e):o>50&&(i.value[e]=!1)}};return X(()=>{u.loadFromLocalStorage(),h()}),B(c,()=>{h()}),(t,e)=>{const p=U;return r(),l("div",x,[m(R),s("main",z,[m(F),s("div",D,[e[1]||(e[1]=s("h2",null,"YOUR CART",-1)),c.value.length>0?(r(),l("ul",O,[(r(!0),l(L,null,V(c.value,(a,o)=>(r(),l("li",{class:q(["item",{"show-trash":i.value[o]}]),key:a.name,onTouchstart:n=>C(n,o),onTouchend:n=>y(n,o)},[s("div",G,[s("img",{src:`${M(T)}image/products/${a.category}/${a.image}`,alt:a.name},null,8,J)]),s("div",K,[s("div",W,[s("h3",null,_(a.name),1),s("p",Z,"NT$ "+_(a.price),1)]),s("div",ss,[s("a",{href:"#",class:"minus",onClick:v(n=>f(o,-1),["prevent"])},"-",8,ts),s("p",es,_(a.quantity),1),s("a",{href:"#",class:"plus",onClick:v(n=>f(o,1),["prevent"])},"+",8,as)])]),s("p",os,"NT$ "+_(a.price*a.quantity),1),s("a",{href:"#",class:"bi bi-trash3-fill trashIcon",onClick:v(n=>k(o),["prevent"])},null,8,cs)],42,P))),128))])):(r(),l("p",ns,"Your cart is empty.")),c.value.length>0?(r(),H(p,{key:2,to:"/checkout",class:"checkout_button"},{default:A(()=>e[0]||(e[0]=[E("Proceed to Checkout",-1)])),_:1,__:[0]})):I("",!0)])]),m(Q)])}}}),_s=Y(rs,[["__scopeId","data-v-3b3ec4fb"]]);export{_s as default};
